# AUTO-GENERATED BY SERVICE-TEMPLATE - DO NOT EDIT
"""
Protocols for service controllers.
"""
from __future__ import annotations

from typing import Protocol

from sqlalchemy.ext.asyncio import AsyncSession

{% if imports %}
from shared.generated.schemas import (
    {% for model in imports|sort %}
    {{ model }},
    {% endfor %}
)
{% endif %}

{% for router in routers %}
class {{ router.protocol_name }}(Protocol):
    """Protocol for {{ router.name }} controller."""

{% for handler in router.handlers %}
{% if handler.is_events_only %}
    # Events-only operation (no REST endpoint)
{% elif handler.is_dual_transport %}
    # Dual transport: REST + Events
{% endif %}
    async def {{ handler.name }}(
        self,
        session: AsyncSession,
        {% for param in handler.params %}
        {{ param.name }}: {{ param.type }},
        {% endfor %}
        {% if handler.request_model %}
        payload: {{ handler.request_model }},
        {% endif %}
    ) -> {{ handler.return_type }}:
        ...

{% endfor %}
{% endfor %}
