# Generated by scripts/generate_from_spec.py - DO NOT EDIT
import os
from typing import Any

from faststream.redis import RedisBroker
from shared.generated.schemas import {{ imports | sort | join(", ") }}

redis_url = os.getenv("REDIS_URL", "redis://localhost:6379")
broker = RedisBroker(redis_url)

{% for event in events %}
{% if event.publish %}
_publisher_{{ event.name }} = broker.publisher("{{ event.name }}")

async def publish_{{ event.name }}(message: {{ event.message }}) -> Any:
    """Publish {{ event.message }} to channel '{{ event.name }}'."""
    return await _publisher_{{ event.name }}.publish(message)
{% endif %}
{% endfor %}
